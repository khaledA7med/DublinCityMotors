"use strict";(self.webpackChunkDublinCityMotors=self.webpackChunkDublinCityMotors||[]).push([[47],{1047:(D,g,m)=>{m.d(g,{N:()=>T});var r=m(4341),e=m(8699);let y=(()=>{class i{formatBytes(n,a){if(0===n)return"0 Bytes";const o=a<=0?0:a||2,s=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,s)).toFixed(o))+" "+["Bytes","KB","MB","GB"][s]}dateStructFormat(n){return{year:(n=new Date(n)).getFullYear(),month:n.getMonth()+1,day:n.getDate()}}dateFormater(n){let a="";return n&&(a=`${n.year}-${n.month}-${n.day}`.toString()),a}reportViewer(n,a){const t=window.open(n,"_blank",`width=${window.screen.availWidth}, height=${window.screen.availHeight}`),o=`\t\t\n\t\t\t\t\t\t<!DOCTYPE html>\n\t\t\t\t\t\t<html lang="en"  width="100vw">\n\t\t\t\t\t\t\t<head>\n\t\t\t\t\t\t\t\t<title>${a}</title>\n\t\t\t\t\t\t\t\t<link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">\n\t\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\tbody {height: 98vh;}\n\t\t\t\t\t\t\t\t.myIFrame {\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t\t</head>\n\t\t\t\t\t\t\t<body>\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\tsrc="${n}"\n\t\t\t\t\t\t\t\tclass="myIFrame justify-content-center"\n\t\t\t\t\t\t\t\tframeborder="5"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\theight="99%"\n\t\t\t\t\t\t\t\treferrerpolicy="no-referrer-when-downgrade"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</iframe>\n\t\t\t\t\t\t\t</body>\n\t\t\t\t\t\t</html>\n\n\t\t`;t?.document.write(o)}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var c=m(906),h=m(6554),k=m(533),C=m(7402),u=m(177);function _(i,p){1&i&&(e.j41(0,"div",6),e.EFF(1," Required "),e.k0s())}function v(i,p){if(1&i){const n=e.RV6();e.nrm(0,"hr",7),e.j41(1,"button",8),e.bIt("click",function(){e.eBV(n);const t=e.XpG(),o=e.sdS(2);return t.date=t.today,e.Njj(o.close())}),e.EFF(2,"Today"),e.k0s(),e.j41(3,"button",9),e.bIt("click",function(){e.eBV(n),e.XpG();const t=e.sdS(2);return e.Njj(t.close())}),e.EFF(4,"Close"),e.k0s()}if(2&i){const n=e.XpG();e.R7$(1),e.Y8G("disabled",n.disabled)}}const E=function(i){return{"is-invalid":i}};let F=(()=>{class i{constructor(n,a,t){this.changeDate=a,this.calendar=t,this.readonly=!1,this.submitted=!1,this.required=!1,this.disabled=!1,this.dateChange=new e.bkB,this.minDate={year:1950,month:1,day:1},this.maxDate={year:2050,month:12,day:31},n.minDate={year:1900,month:1,day:1},n.maxDate={year:2099,month:12,day:31},n.placement=["top-end","top-start","bottom-end","bottom-start"]}ngOnChanges(){this.date=this.model?this.model:{day:0,year:0,month:0}}get today(){return this.onDateSelect(this.calendar.getToday()),this.calendar.getToday()}onDateSelect(n){let a=this.changeDate.fromGregorian(new Date(`${n.year}-${n.month}-${n.day}`));this.dateChange.emit({gon:n,hijri:a})}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(c.YB),e.rXU(c.a_),e.rXU(c.iF))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-gregorian-picker"]],inputs:{model:"model",readonly:"readonly",submitted:"submitted",required:"required",disabled:"disabled",minDate:"minDate",maxDate:"maxDate"},outputs:{dateChange:"dateChange"},features:[e.Jv_([c.YB,c.a_]),e.OA$],decls:8,vars:11,consts:[[1,"input-group","input-group-sm"],["type","text","ngbDatepicker","","container","body","placeholder","yyyy-mm-dd","readonly","",1,"form-control",3,"ngModel","disabled","required","footerTemplate","minDate","maxDate","ngClass","ngModelChange","dateSelect","click"],["d","ngbDatepicker","dates","ngModel"],["type","button",1,"btn","btn-outline-secondary","bx","bx-calendar","dateTogglerBtn",3,"disabled","click"],["class","invalid-feedback fw-bold",4,"ngIf"],["footerTemplate",""],[1,"invalid-feedback","fw-bold"],[1,"my-0"],[1,"btn","btn-outline-primary","btn-sm","m-2","float-start",3,"disabled","click"],[1,"btn","btn-ghost-secondary","btn-sm","m-2","float-end",3,"click"]],template:function(a,t){if(1&a){const o=e.RV6();e.j41(0,"div",0)(1,"input",1,2),e.bIt("ngModelChange",function(s){return t.date=s})("dateSelect",function(s){return t.onDateSelect(s)})("click",function(){e.eBV(o);const s=e.sdS(2);return e.Njj(!t.readonly&&s.toggle())}),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){e.eBV(o);const s=e.sdS(2);return e.Njj(!t.readonly&&s.toggle())}),e.k0s(),e.DNE(5,_,2,0,"div",4),e.k0s(),e.DNE(6,v,5,1,"ng-template",null,5,e.C5r)}if(2&a){const o=e.sdS(3),l=e.sdS(7);e.R7$(1),e.Y8G("ngModel",t.date)("disabled",t.disabled)("required",t.required)("footerTemplate",l)("minDate",t.minDate)("maxDate",t.maxDate)("ngClass",e.eq3(9,E,t.required&&(o.touched&&o.invalid||t.submitted&&o.invalid))),e.R7$(3),e.Y8G("disabled",t.disabled),e.R7$(1),e.Y8G("ngIf",t.required&&(o.touched&&o.invalid||t.submitted&&o.invalid))}},dependencies:[u.YU,u.bT,c.cw,r.me,r.BC,r.YS,r.vS]})}return i})();var M=m(1345);function j(i,p){1&i&&(e.j41(0,"div",39)(1,"label",21),e.EFF(2,"Your Enquiry"),e.k0s(),e.nrm(3,"textarea",40),e.k0s())}function N(i,p){if(1&i){const n=e.RV6();e.j41(0,"div",7)(1,"div",39)(2,"label",21),e.EFF(3,"Trade-in Details"),e.k0s(),e.nrm(4,"textarea",41),e.k0s(),e.j41(5,"div",20)(6,"label",21),e.EFF(7,"Car Reg No."),e.k0s(),e.nrm(8,"input",42),e.k0s(),e.j41(9,"div",20)(10,"label",21),e.EFF(11,"Current Mileage KM/Mi"),e.k0s(),e.nrm(12,"input",43),e.k0s(),e.j41(13,"div",20)(14,"label",21),e.EFF(15,"NCT expiry date"),e.k0s(),e.j41(16,"app-gregorian-picker",32),e.bIt("dateChange",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.setNCTDate(t))}),e.k0s()(),e.j41(17,"div",20)(18,"label",21),e.EFF(19,"Road Tax expiry date"),e.k0s(),e.j41(20,"app-gregorian-picker",32),e.bIt("dateChange",function(t){e.eBV(n);const o=e.XpG();return e.Njj(o.setTaxDate(t))}),e.k0s()(),e.j41(21,"div",20)(22,"label",21),e.EFF(23,"Condition"),e.k0s(),e.nrm(24,"input",44),e.k0s(),e.j41(25,"div",20)(26,"label",21),e.EFF(27,"Price expectation"),e.k0s(),e.nrm(28,"input",45),e.k0s()()}}let T=(()=>{class i{constructor(n,a,t,o,l,s,d){this.modalService=n,this.modal=a,this.calendar=t,this.appUtils=o,this.spinner=l,this.carsService=s,this.messages=d,this.selectedEnquiry="Test Drive",this.selectedContact="No Preference",this.subscription=[],this.submitted=!1,this.time=[{id:0,name:"10:00 AM"},{id:1,name:"11:00 AM"},{id:2,name:"12:00 AM"},{id:3,name:"01:00 PM"},{id:4,name:"02:00 PM"},{id:5,name:"03:00 PM"},{id:6,name:"04:00 PM"},{id:7,name:"05:00 PM"},{id:8,name:"06:00 PM"}],this.years=[{name:"1990"},{name:"1991"},{name:"1992"},{name:"1993"},{name:"1994"},{name:"1995"},{name:"1996"},{name:"1997"},{name:"1998"},{name:"1999"},{name:"2000"},{name:"2001"},{name:"2002"},{name:"2003"},{name:"2004"},{name:"2005"},{name:"2006"},{name:"2007"},{name:"2008"},{name:"2009"},{name:"2010"},{name:"2011"},{name:"2012"},{name:"2013"},{name:"2014"},{name:"2015"},{name:"2016"},{name:"2017"},{name:"2018"},{name:"2019"},{name:"2020"},{name:"2021"},{name:"2022"},{name:"2023"},{name:"2024"},{name:"2025"},{name:"2026"},{name:"2027"},{name:"2028"},{name:"2029"},{name:"2030"},{name:"2031"},{name:"2032"},{name:"2033"},{name:"2034"},{name:"2035"},{name:"2036"},{name:"2037"},{name:"2038"},{name:"2039"},{name:"2040"},{name:"2041"},{name:"2042"},{name:"2043"},{name:"2044"},{name:"2045"},{name:"2046"},{name:"2047"},{name:"2048"},{name:"2049"},{name:"2050"}],this.makes=[],this.models=[]}ngOnInit(){this.initForm(),this.carEnquiry&&(this.f.carName.patchValue(this.carEnquiry.name),this.f.carMake.patchValue(this.carEnquiry.makeName),this.f.carModel.patchValue(this.carEnquiry.modelName),this.f.carYear.patchValue(this.carEnquiry.regYear),this.f.carName.disable(),this.f.carMake.disable(),this.f.carModel.disable(),this.f.carYear.disable())}setPickDate(n){this.f.pickDate?.patchValue(this.appUtils.dateFormater(n.gon))}setNCTDate(n){this.f.nctExpiryDate?.patchValue(this.appUtils.dateFormater(n.gon))}setTaxDate(n){this.f.roadTaxExpiryDate?.patchValue(this.appUtils.dateFormater(n.gon))}selectToday(){this.model=this.calendar.getToday()}backToMainRoute(){this.modal.close()}initForm(){this.getMake(),this.formGroup=new r.gE({natureOfEnquiry:new r.MJ("Test Drive"),contactMeBy:new r.MJ("No Preference"),firstName:new r.MJ(""),surName:new r.MJ(""),contactNumber:new r.MJ(""),emailAddress:new r.MJ(""),carName:new r.MJ(""),carMake:new r.MJ(""),carModel:new r.MJ(""),carYear:new r.MJ,pickDate:new r.MJ(null),pickTime:new r.MJ(""),yourEnquiry:new r.MJ(""),tradeInDetails:new r.MJ(""),carRegNo:new r.MJ,currentMileage:new r.MJ,nctExpiryDate:new r.MJ(null),roadTaxExpiryDate:new r.MJ(null),condition:new r.MJ(""),priceExpectation:new r.MJ})}get f(){return this.formGroup.controls}getValue(n){this.selectedValue=n.target.value}getMake(){let n=this.carsService.getCarMake().subscribe(a=>{this.makes=a});this.subscription.push(n)}getModel(n){let a=this.carsService.getCarModel(n).subscribe(t=>{this.models=t});this.subscription.push(a)}onSubmit(n){this.submitted=!0,this.spinner.show();let a=n.getRawValue(),t=this.carsService.enquireCar(a).subscribe({next:o=>{!0===o.success?(this.spinner.hide(),this.messages.toast("Car Enquiry Sent Successfullt","success"),this.submitted=!1,this.modal.close()):(this.spinner.hide(),this.messages.popup("error","error in Equiry","error"))},error:()=>{this.spinner.hide(),this.messages.popup("error","error in Equiry","error")}});this.subscription.push(t)}ngOnDestroy(){this.subscription&&this.subscription.forEach(n=>n.unsubscribe())}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(c.Bq),e.rXU(c.Lw),e.rXU(c.iF),e.rXU(y),e.rXU(h.ex),e.rXU(k.R),e.rXU(C.G))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-enquire-car"]],inputs:{carEnquiry:"carEnquiry"},decls:88,vars:22,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-beat",3,"fullScreen"],[2,"color","white"],[3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-3"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"mb-4"],[1,"mb-1"],["role","group","aria-label","Nature of Enquiry",1,"btn-group","w-100",3,"change"],[1,"btn","btn-sm"],["type","radio","formControlName","natureOfEnquiry","value","Test Drive",1,"btn-check"],["type","radio","formControlName","natureOfEnquiry","value","General",1,"btn-check"],["type","radio","formControlName","natureOfEnquiry","value","Trade-in",1,"btn-check"],["role","group","aria-label","Contact Method",1,"btn-group","w-100"],["type","radio","formControlName","contactMeBy","value","No Preference",1,"btn-check"],["type","radio","formControlName","contactMeBy","value","Email",1,"btn-check"],["type","radio","formControlName","contactMeBy","value","Telephone",1,"btn-check"],[1,"col-lg-6","col-md-6","col-sm-12","my-2","my-2"],["for",""],["formControlName","firstName","placeholder","Your first name","type","text",1,"form-control"],[1,"col-lg-6","col-md-6","col-sm-12","my-2"],["formControlName","surName","placeholder","Your surname","type","text",1,"form-control"],["formControlName","contactNumber","placeholder","Your contact number","type","text",1,"form-control"],["formControlName","emailAddress","placeholder","Your email address","type","email",1,"form-control"],["type","text","formControlName","carName",1,"form-control"],["placeholder","Select Make","formControlName","carMake","bindLabel","name","bindValue","name","id","Make",3,"items","searchable","change"],["placeholder","Select Model","formControlName","carModel","bindLabel","name","bindValue","name","id","Model",3,"items","searchable"],["formControlName","carYear","placeholder","Car Year","type","number",1,"form-control"],[1,"col-12","text-center","fw-bold"],[3,"dateChange"],["placeholder","Select time","formControlName","pickTime","bindLabel","name","bindValue","name","id","Make",3,"items","searchable"],["class","col-12 my-2",4,"ngIf"],["class","row",4,"ngIf"],[1,"modal-footer","py-2"],["type","submit",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","my-2"],["formControlName","yourEnquiry","placeholder","Your enquiry","rows","3","type","text",1,"form-control"],["formControlName","tradeInDetails","placeholder","Your Details","rows","3","type","text",1,"form-control"],["formControlName","carRegNo","placeholder","Your car Reg No.","type","number",1,"form-control"],["formControlName","currentMileage","placeholder","Your Current Mileage","type","number",1,"form-control"],["formControlName","condition","placeholder","Your Condition","type","text",1,"form-control"],["formControlName","priceExpectation","placeholder","Your Price Expectation","type","number",1,"form-control"]],template:function(a,t){if(1&a&&(e.j41(0,"ngx-spinner",0)(1,"p",1),e.EFF(2," Loading... "),e.k0s()(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return t.onSubmit(t.formGroup)}),e.j41(4,"div",3)(5,"h4",4),e.EFF(6,"Car Enquiry"),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){return t.modal.dismiss("Cross click")}),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e.EFF(13,"Nature of Enquiry"),e.k0s(),e.j41(14,"div",11),e.bIt("change",function(l){return t.getValue(l)}),e.j41(15,"label",12),e.nrm(16,"input",13),e.EFF(17," Test Drive "),e.k0s(),e.j41(18,"label",12),e.nrm(19,"input",14),e.EFF(20," General "),e.k0s(),e.j41(21,"label",12),e.nrm(22,"input",15),e.EFF(23," Trade-in "),e.k0s()()()(),e.j41(24,"div",8)(25,"div",9)(26,"label",10),e.EFF(27,"Contact By"),e.k0s(),e.j41(28,"div",16)(29,"label",12),e.nrm(30,"input",17),e.EFF(31," No Preference "),e.k0s(),e.j41(32,"label",12),e.nrm(33,"input",18),e.EFF(34," Email "),e.k0s(),e.j41(35,"label",12),e.nrm(36,"input",19),e.EFF(37," Telephone "),e.k0s()()()(),e.j41(38,"div",20)(39,"label",21),e.EFF(40,"First Name"),e.k0s(),e.nrm(41,"input",22),e.k0s(),e.j41(42,"div",23)(43,"label",21),e.EFF(44,"Surname"),e.k0s(),e.nrm(45,"input",24),e.k0s(),e.j41(46,"div",23)(47,"label",21),e.EFF(48,"Contact Number"),e.k0s(),e.nrm(49,"input",25),e.k0s(),e.j41(50,"div",23)(51,"label",21),e.EFF(52,"Enail Address"),e.k0s(),e.nrm(53,"input",26),e.k0s(),e.j41(54,"div",23)(55,"label",21),e.EFF(56,"Car Name"),e.k0s(),e.nrm(57,"input",27),e.k0s(),e.j41(58,"div",23)(59,"label",21),e.EFF(60,"Car Make"),e.k0s(),e.j41(61,"ng-select",28),e.bIt("change",function(l){return t.getModel(null==l?null:l.id)}),e.k0s()(),e.j41(62,"div",23)(63,"label",21),e.EFF(64,"Car Model"),e.k0s(),e.nrm(65,"ng-select",29),e.k0s(),e.j41(66,"div",23)(67,"label",21),e.EFF(68,"Car Year"),e.k0s(),e.nrm(69,"input",30),e.k0s(),e.nrm(70,"div",23),e.j41(71,"div",31),e.EFF(72," (Check opening hours before booking) "),e.k0s(),e.j41(73,"div",23)(74,"label",21),e.EFF(75,"Pick Date"),e.k0s(),e.j41(76,"app-gregorian-picker",32),e.bIt("dateChange",function(l){return t.setPickDate(l)}),e.k0s()(),e.j41(77,"div",23)(78,"label",21),e.EFF(79,"Pick Time"),e.k0s(),e.nrm(80,"ng-select",33),e.k0s(),e.DNE(81,j,4,0,"div",34),e.DNE(82,N,29,0,"div",35),e.k0s()(),e.j41(83,"div",36)(84,"button",37),e.EFF(85," Submit "),e.k0s(),e.j41(86,"button",38),e.bIt("click",function(){return t.modal.close("Close click")}),e.EFF(87," Close "),e.k0s()()()),2&a){let o,l,s,d,b,f;e.Y8G("fullScreen",!0),e.R7$(3),e.Y8G("formGroup",t.formGroup),e.R7$(12),e.AVh("active","Test Drive"===(null==(o=t.formGroup.get("natureOfEnquiry"))?null:o.value)),e.R7$(3),e.AVh("active","General"===(null==(l=t.formGroup.get("natureOfEnquiry"))?null:l.value)),e.R7$(3),e.AVh("active","Trade-in"===(null==(s=t.formGroup.get("natureOfEnquiry"))?null:s.value)),e.R7$(8),e.AVh("active","No Preference"===(null==(d=t.formGroup.get("contactMeBy"))?null:d.value)),e.R7$(3),e.AVh("active","Email"===(null==(b=t.formGroup.get("contactMeBy"))?null:b.value)),e.R7$(3),e.AVh("active","Telephone"===(null==(f=t.formGroup.get("contactMeBy"))?null:f.value)),e.R7$(26),e.Y8G("items",t.makes)("searchable",!0),e.R7$(4),e.Y8G("items",t.models)("searchable",!0),e.R7$(15),e.Y8G("items",t.time)("searchable",!0),e.R7$(1),e.Y8G("ngIf","Trade-in"!==t.selectedValue),e.R7$(1),e.Y8G("ngIf","Trade-in"===t.selectedValue)}},dependencies:[u.bT,r.qT,r.me,r.Q0,r.Fm,r.BC,r.cb,F,M.vr,r.j4,r.JD,h.et],styles:[".modal-body{background-color:#eee}.modal-body .btn-group .btn{position:relative;padding:10px;cursor:pointer;text-align:center;display:flex;align-items:center;justify-content:center;background-color:#fff;margin:1px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.modal-body .btn-group .btn input[type=radio]{position:absolute;opacity:0;pointer-events:none}.modal-body .btn-group .btn.active{background-color:#787878;color:#fff}.modal-body .btn-group .btn:not(.active):hover{background-color:#e6e6e6}.modal-header{background-color:#eee}.modal-footer{border:none;background-color:#eee}\n"],encapsulation:2})}return i})()}}]);